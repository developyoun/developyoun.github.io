---
title: 16.1 개요

categories:
- real-mysql

tags:
- study
- database

toc: true
toc_sticky: true
toc_label: Contents
---

데이터베이스를 사용하고 운영할 때 가장 중요한 두 가지 요소는 바로, **확장성(Scalability)** 과 **가용성(Availability)** 이다.
→ 이 두 요소를 위해 가장 일반적으로 사용되는 기술이 바로 **복제(Replication)** 이다.

---

복제는 한 서버에서 다른 서버로 데이터가 동기화되는 것을 말한다.
→ 원본 데이터를 가진 서버를 소스(Source) 서버 / 복제된 데이터를 가지는 서버를 레플리카(Replica) 서버라고 부른다.
→ 소스 서버에서 데이터 및 스키마에 대한 변경이 최초로 발생하며, 레플리카 서버에서는 이러한 변경 내역을 소스 서버로 부터 전달받아 자신이 가지고있는 데이터에 반영함으로써 소스 서버에 저장된 데이터와 동기화 시킨다.

대부분의 DBMS에서 복제 기능을 제공하며, 일반적으로 서비스에서 사용될 DB서버를 구축할 떄는 메인으로 사용될 소스 서버 한 대와 복제를 통해 소스 서버와 동일한 데이터를 가진 레플리카 서버를 한 대 이상 함께 구축한다.

복제를 통해 레플리카 서버를 구축하는 데는 여러 가지 목적이 있다.
1. 스케일 아웃 (Scale-out)
	- 동일한 데이터를 가진 DB 서버를 한 대 이상 늘려서 실행되는 쿼리들을 분산시키는 방법
	- 스케일 아웃은 스케일 업 방식보다 갑자기 늘어나는 트래픽을 대응하는 데 훨씬 더 유연한 구조
	- 복제를 사용해 DB 서버를 스케일 아웃할 수 있으며, 이를 통해 서비스를 좀 더 안정적으로 운영할 수 있음
2. 데이터 백업
	- DB 서버에 저장된 데이터들을 주기적으로 백업하는 것은 필수적이다.
	- 동일한 서버 내에서 백업이 실행되는 경우 백업 프로그램과 DBMS가 서버의 자원을 공유하기 때문에 실행 중인 쿼리에 영향이 있을 수 있다.
	- 이런 문제를 방지하기 위해 주로 복제를 사용해 레플리카 서버를 구축하고 백업은 레플리카 서버에서 실행한다.
	- 구축된 백업용 레플리카 서버는 소스 서버가 문제 생겼을 떄를 대비한 대체 서버의 역할을 하기도 한다.
3. 데이터 분석
	- DB 서버에서는 비즈니스 모델을 발굴하기 위해서나 인사이트를 얻기 위해 분석용 쿼리를 실행하기도 한다.
	- 분석용 쿼리는 대량의 데이터를 조회하는 경우가 많고, 집계 연산 등의 복합하거나 무거운 쿼리를 사용할 때가 대부분이다.
	- 이로 인해 서비스용 쿼리가 영향을 받을 수 있으므로 여분의 레플리카 서버를 구축해 분석용 쿼리만 전용으로 실행될 수 있는 환경을 만드는 것이 좋다.
4. 데이터의 지리적 분산
	- DB 서버와 어플리케이션 서버가 서로 떨어져 있는 경우 두 서버 간의 통신 시간은 떨어진 거리만큼 비례해서 늘어난다..
	- 사용자의 빠른 응답 속도를 제공하려면 어플리케이션 서버와 DB 서버가 가깝게 위치하는 것이 좋다.
	- 만약, DB 서버의 위치를 이동시키지 못한다면 복제를 이용해 어플리케이션 서버가 위치한 곳에 기존 DB 서버에 대한 레플리카 서버를 새로 구축해 사용함으로써 응답 속도를 개선할 수 있다.

```ad-info
스케일 업 (Scale-up)
서버의 사양을 업그레이드하여 서버의 부하를 줄이는 방법
어플리케이션 단의 큰 변화 없이 늘어난 트래픽을 처리할 수 있다는 장점이 있지만 일시적이라는 단점이 있다.
```
