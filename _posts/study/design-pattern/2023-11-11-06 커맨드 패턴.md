---
title: 06.커맨드 패턴
categories:
- 디자인패턴
tags:
- design-pattern
- study
toc: true
toc_sticky: true
toc_label: Contents
---

## 커맨드 패턴의 정의
커맨드패턴은 객체의 행위(메서드)를 클래스로 만들어 캡슐화하는 패턴.
- 요청을 객체로 캡슐화하여 객체를 서로 다른 요청으로 매개변수화 할 수 있다
- 이벤트가 발생했을 때 실행될 기능이 다양하면서도 변경이 필요한 경우 클래스를 변경하지 않고 재사용하고자 할 때 유용

![](https://i.imgur.com/6Kxtyyg.jpg)
- invoker: 기능의 실행을 요구하는 호출자
- receiver: 실제 기능을 실행하는 수신자

## 커맨드 클래스

### 1. invoker 클래스
```java
public class RemoteController {
    private Command command;
  
    public RemoteController(Command command) {
        setCommand(command);
    }
  
    public void setCommand(Command command) {
        this.command = command;
    }
  
    public void pressed() {
        command.execute();
    }
}
```
- 직접적인 기능을 구현하지 않는다
- 단지, 요청으로 받은 명령을 받고(setCommand 메서드) 필요한 명령을 호출한다 (pressed 메서드)

### 2. Command 인터페이스
```java
public interface Command {
    public void execute();
}
```
- 동작을 수행할 메서드를 정의한 인터페이스

### 3. Command 구현체 클래스 (ConcreteCommand)
```java
public class LightOnCommand implements Command {
	Light light;

	public LightOnCommand(Light light) {
		this.light = light;
	}

	public void execute() {
		light.on();
	}
}
```
- 구체적인 기능을 정의한 구현체 클래스
- Light 객체(receiver)의 기능을 실행한다

### 정리
- 커맨드 패턴을 사용하면 요청하는 객체와 요청을 수행하는 객체를 분리할 수 있음
- 인보커는 무언가 요청할 때 커맨드 객체의 excute() 메소드를 호출한다
- 커맨드는 인보커를 매개변수화 할 수 있다. (실행 중에 동적으로 매개변수화를 설정할 수 있다)
- 커맨드 패턴을 활용해서 로그 및 트랜잭션 시스템을 구현할 수 있다.