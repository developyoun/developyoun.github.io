---
title: 12. 복합 패턴
categories:
- 디자인패턴
tags:
- design-pattern
- study
toc: true
toc_sticky: true
toc_label: Contents
---

## MVC 패턴
MVC 패턴은 (모델-뷰-컨트롤러)는 옵저버, 전략, 컴포지트 패턴으로 이루어진 복합 패턴이다.
- 모델 (Model): 모든 데이터, 상태와 어플리케이션 로직이 들어있다
- 뷰 (View): 모델을 표현하는 방법을 제공한다. 일반적으로 화면에 표시할 때 필요한 상태와 데이터는 모델에서 직접 가져온다
- 컨트롤러(Controller): 사용자로부터 입력을 받으며 입력받은 내용이 모델에게 어떤 의미가 있는지 파악한다

## MVC 패턴의 특징
1. 사용자는 뷰에만 접촉할 수 있다.
	-  사용자가 뷰에서 뭔가를 하면 뷰는 무슨 일이 일어났는지 컨트롤러에게 알려준다.
2. 컨트롤러가 모델에게 상태를 변경하라는 요청을 한다.
	- 컨트롤러는 사용자의 행동을 받아서 해석하는 역할을 맡는다.
3. 컨트롤러가 뷰를 변경해 달라고 요청할 수도 있다.
	- 컨트롤러는 뷰로부터 어떤 행동을 받았을 때, 그 행동의 결과로 뷰에게 뭔가를 바꿔 달라고 할 수도 있다.
4. 상태가 변경되면 모델이 뷰에게 그 사실을 알린다.
	- 사용자가 한 행동이나 다른 내부적인 변화 등으로 뭔가가 바뀌면 모델은 뷰에게 상태가 변경되었다고 알린다.
5. 뷰가 모델에게 상태를 요청한다.
	- 뷰는 화면에 표시할 상태를 모델로부터 직접 가져온다.

##  MVC 에서 사용되는 패턴
### 옵저버 패턴 (모델)
상태가 변경되었을 때 그 모델과 연관된 객체들에게 전달된다.  
옵저버 패턴을 사용하면 모델을 뷰와 컨트롤러로부터 완전히 독립시킬 수 있다.  
한 모델에서 서로 다른 뷰를 사용할 수도 있고, 여러 개의 뷰를 동시에 사용할 수도 있다.
![](https://i.imgur.com/GMCy6WT.png)

### 컴포지트 패턴 (뷰)
컨트롤러가 뷰 구성 요소에게만 화면을 갱신해달라고 하면 나머지는 컴포지트 패턴이 처리한다.
![](https://i.imgur.com/paTUpc5.png)

### 전략 패턴 (뷰, 컨트롤러)
전략 패턴을 사용하면 뷰를 모델로부터 분리하는데 도움이 된다.  
사용자가 요청한 내역을 처리하려고 모델과 엮어있는 부분을 컨트롤러가 맡는다.
![](https://i.imgur.com/19TiRJW.png)

