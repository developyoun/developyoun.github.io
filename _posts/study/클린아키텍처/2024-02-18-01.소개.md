---
title: 09.반복자 패턴과 컴포지트 패턴
categories:
- 디자인패턴
tags:
- design-pattern
- study
toc: true
toc_sticky: true
toc_label: Contents
---

## 1. 설계와 아키텍처란?
*아키텍처* 는 저수준의 세부사항과는 분리된 고수준의 무언가를 가리킬때가 많지만,  
*설계* 는 저수준의 구조 또는 결정사항 등을 의미할 때가 많다.  
**하지만, 둘 사이에 차이는 없다.**

"소프트웨어 아키텍처의 목표는 필요한 시스템을 만들고 유지보수하는 데 투입되는 *인력을 최소화* 하는 데 있다."
- 비용이 낮을 뿐만 아니라, 시스템의 수명이 다할 때까지 낮게 유지할 수 있다면 좋은 설계라고 할 수 있다.
- 새로운 기능을 출시할 때마다 비용이 증가한다면 나쁜 설계다.

### 결론
- 어떤 경우라도 개발 조직이 할 수 있는 최고의 선택지는 조직에 스며든 과신을 인지하여 방지하는 것 (아키텍처의 품질을 심각하게 고민하기 시작하는 것)
- 소프트웨어 아키텍처를 심각하게 고려할 수 있으려면 좋은 소프트웨어 아키텍처가 무엇인지 이해해야 한다.
- 비용은 최소화하고 생산성은 최대화할 수 있는 설계와 아키텍처를 가진 시스템을 만들려면, 결과로 이끌어줄 시스템 아키텍처가 지닌 속성을 알아야 한다.

## 2. 두 가지 가치에 대한 이야기
> 모든 소프트웨어 시스템은 행위(Behavior)와 구조(Structure) 이 두 가지 가치를 제공한다.  
> 소프트웨어 개발자는 이 두 가치를 모두 반드시 높게 유지해야 하는 책임을 진다.

### 행위
프로그래머를 고용하는 이유는 이해관계자를 위해 **기계가 수익을 창출하거나 비용을 절약하도록 만들기 위해서** 이다.  
**프로그래머는 이해관계자가 기능 명세서나 요구사항 문서를 구체화할 수 있도록 돕고 요구사항을 만족하도록 코드를 작성한다.**

> 하지만, 요구사항을 기계에 구현하고 버그를 수정하는 일이 자신의 직업은 아니다.

### 아키텍처
> 소프트웨어는 '부드러움을 지니도록' 만들어졌다.

소프트웨어를 만든 이유는 기계의 행위를 쉽게 변경할 수 있도록하기 위해서다.  
소프트웨어가 가진 본연의 목적을 추구하려면 소프트웨어는 반드시 '부드러워'야 한다. (= 변경하기 쉬워야 한다.)
- 변경사항을 적용하는 데 드는 어려움은 변경되는 범위(Scope)에 비례해야 한다.
- 변경사항의 형태(Shape)와는 관련이 없어야 한다.

아키텍처가 특정 형태를 다른 형태보다 선호하면 할수록, 새로운 기능을 이 구조에 맞추는 게 더 힘들어진다.  
**즉, 아키텍처는 형태에 독립적이어야 하고, 그럴수록 더 실용적이다.**

### 더 높은 가치
소프트웨어 시스템의 아키텍처보다 동작하는 것이 더 중요하다고 생각하는 것은 *잘못된 태도* 이다.
- 완벽하게 동작하지만 수정이 아예 불가능한 프로그램은, 요구사항이 변경될 때 동작하지 않게 되고 결국 프로그램이 돌아가도록 만들 수 없게 된다. ( *이러한 프로그램은 거의 쓸모 없다* )
- 동작은 하지 않지만 변경이 쉬운 프로그램은, 프로그램을 돌아가게도 만들 수 있고 변경사항이 발생하더라도 여전히 동작하도록 유지보수 할 수 있다. ( *이러한 프로그램은 앞으로도 계속 유용한 채로 남는다* )

> 변경이 완전히 불가능한 프로그램이란 존재하지 않는다.


**아키텍트는 특성과 기능을 개발하기 쉽고, 간편하게 수정할 수 있으며, 확장하기 쉬운 아키텍처를 만들어야한다.**

